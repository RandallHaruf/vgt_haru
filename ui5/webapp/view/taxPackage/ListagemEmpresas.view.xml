<mvc:View
	controllerName="ui5ns.ui5.controller.taxPackage.ListagemEmpresas"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:core="sap.ui.core"
	xmlns:f="sap.f"
	xmlns:l="sap.ui.layout"
	xmlns="sap.m">
	<f:DynamicPage>
		<f:title>
			<f:DynamicPageTitle>
				<f:breadcrumbs>
					<Breadcrumbs>
						<Link text="{i18n>viewTAXMenu1}" press="navToHome" />
						<Link text="{i18n>viewTAXMenu2}" enabled="false" />
					</Breadcrumbs>
				</f:breadcrumbs>
				<f:heading>
					<Title text="{i18n>viewTAXListagemEmpresaTituloPagina}"/>
				</f:heading>	
                <f:expandedContent>
					<ObjectIdentifier title="{/NomeUsuario}" />
				</f:expandedContent>
				<f:navigationActions>
					<Button icon="sap-icon://manager-insight" tooltip="{i18n>viewTAXListagemEmpresaTooltipBotao}" text="XLSX" press="onBaixarModeloImport" />
					<core:Fragment fragmentName="ui5ns.ui5.view.AcessoRapido" type="XML" />
				</f:navigationActions>
			</f:DynamicPageTitle>
		</f:title>
		<f:content>
			<Table 
				id="tabelaEmpresas"
				inset="false"
				items="{
					path: '/Empresa',
					sorter: [{
						path: 'empresa'
					}]
				}">
				<headerToolbar>
					<Toolbar>
						<content>
							<!--<Title text="Empresas" level="H2"/>-->
							<ToolbarSpacer />
							<Select
								id="selectAnoCalendario"
								tooltip="{i18n>viewGeralAnoCalendario}"
								change="onTrocarAnoCalendario"
								items="{/DominioAnoCalendario}"
								selectedKey="{/AnoCalendarioSelecionado}">
								<core:Item text="{ano_calendario}" key="{id_dominio_ano_calendario}" />
							</Select>
						</content>
					</Toolbar>
				</headerToolbar>
				<columns>
					<Column hAlign="Center">
						<!--<Text text="Nome" />-->
						<Title text="{i18n>viewGeralEmpresas}" titleStyle="H4" textAlign="Center"/>
					</Column>
					<Column hAlign="Center">  
						<!--<Text text="1ยบ trimestre" />-->
						<Title text="{i18n>viewGeralPeriodo1}" titleStyle="H4" />
					</Column>
					<Column hAlign="Center">
						<!--<Text text="2ยบ trimestre" />-->
						<Title text="{i18n>viewGeralPeriodo2}" titleStyle="H4" />
					</Column>
					<Column hAlign="Center">
						<!--<Text text="3ยบ trimestre" />-->
						<Title text="{i18n>viewGeralPeriodo3}" titleStyle="H4" />
					</Column>
					<Column hAlign="Center">
						<!--<Text text="4ยบ trimestre" />-->
						<Title text="{i18n>viewGeralPeriodo4}" titleStyle="H4" />
					</Column>
					<Column hAlign="Center" >
						<!--<Text text="Anual" />-->
						<Title text="{i18n>viewGeralPeriodo5}" titleStyle="H4" />
					</Column>
					<Column
						hAlign="Center">
						<!--<Text text="Qte. Retificadoras" />-->
						<Title text="{i18n>viewGeralPeriodo6Qtd}" titleStyle="H4" />
					</Column>
				</columns>
				<items>
					<ColumnListItem
						type="Navigation"
						press="onSelecionarEmpresa">
						<cells>
							<Text text="{empresa}" class="celulaDestacada" />
							
							<core:Icon src="{iconeStatusPrimeiroPeriodo}" 
								color="{
									parts: [
										'iconeStatusPrimeiroPeriodo'
									],
									formatter: '.formatter.taxPackageIconeListagemEmpresas'
								}"
								tooltip="{tooltipPrimeiroPeriodo}"
								useIconTooltip="false"/>
							<core:Icon src="{iconeStatusSegundoPeriodo}" 
								color="{
									parts: [
										'iconeStatusSegundoPeriodo'
									],
									formatter: '.formatter.taxPackageIconeListagemEmpresas'
								}"
								tooltip="{tooltipSegundoPeriodo}"
								useIconTooltip="false"/>
							<core:Icon src="{iconeStatusTerceiroPeriodo}" 
								color="{
									parts: [
										'iconeStatusTerceiroPeriodo'
									],
									formatter: '.formatter.taxPackageIconeListagemEmpresas'
								}"
								tooltip="{tooltipTerceiroPeriodo}"
								useIconTooltip="false"/>
							<core:Icon src="{iconeStatusQuartoPeriodo}" 
								color="{
									parts: [
										'iconeStatusQuartoPeriodo'
									],
									formatter: '.formatter.taxPackageIconeListagemEmpresas'
								}"
								tooltip="{tooltipQuartoPeriodo}"
								useIconTooltip="false"/>
							<core:Icon src="{iconeStatusAnual}" 
								color="{
									parts: [
										'iconeStatusAnual'
									],
									formatter: '.formatter.taxPackageIconeListagemEmpresas'
								}"
								tooltip="{tooltipAnualPeriodo}"
								useIconTooltip="false"/>
							
							<ObjectNumber
								number="{qte_retificadoras}"/>
						</cells>
					</ColumnListItem>
				</items>
			</Table>
		</f:content>
	</f:DynamicPage>
</mvc:View>